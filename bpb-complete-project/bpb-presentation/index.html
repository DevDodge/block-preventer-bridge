<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Whats Guard — System Overview</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<style>
  :root {
    --bg-deep: #060b14;
    --bg-card: #0d1520;
    --bg-surface: #111b2b;
    --border: rgba(0, 212, 170, 0.15);
    --border-hover: rgba(0, 212, 170, 0.35);
    --teal: #00d4aa;
    --teal-dim: rgba(0, 212, 170, 0.6);
    --cyan: #0ea5e9;
    --emerald: #10b981;
    --amber: #f59e0b;
    --red: #ef4444;
    --silver: #c0c8d8;
    --text: #e2e8f0;
    --text-dim: #94a3b8;
    --text-muted: #64748b;
    --font-mono: 'JetBrains Mono', monospace;
    --font-sans: 'Inter', sans-serif;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }
  html { scroll-behavior: smooth; }

  body {
    background: var(--bg-deep);
    color: var(--text);
    font-family: var(--font-sans);
    line-height: 1.6;
    overflow-x: hidden;
  }

  /* Animated background grid */
  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image:
      linear-gradient(rgba(0,212,170,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,170,0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    z-index: 0;
    pointer-events: none;
  }

  .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1; }

  /* Navigation */
  nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    background: rgba(6, 11, 20, 0.85);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--border);
    padding: 0 24px;
  }
  nav .nav-inner {
    max-width: 1200px; margin: 0 auto;
    display: flex; align-items: center; justify-content: space-between;
    height: 64px;
  }
  nav .logo {
    display: flex; align-items: center; gap: 12px;
    font-family: var(--font-mono); font-weight: 700; font-size: 16px;
    color: var(--teal);
  }
  nav .logo .shield {
    width: 32px; height: 32px;
    background: rgba(0,212,170,0.1);
    border: 1px solid rgba(0,212,170,0.3);
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-size: 16px;
  }
  nav .nav-links { display: flex; gap: 28px; }
  nav .nav-links a {
    color: var(--text-dim); text-decoration: none; font-size: 13px;
    font-weight: 500; transition: color 0.2s;
    letter-spacing: 0.02em;
  }
  nav .nav-links a:hover { color: var(--teal); }
  nav .status-badge {
    display: flex; align-items: center; gap: 8px;
    font-family: var(--font-mono); font-size: 11px; color: var(--emerald);
    background: rgba(16,185,129,0.08);
    border: 1px solid rgba(16,185,129,0.2);
    padding: 6px 14px; border-radius: 20px;
  }
  nav .status-badge .dot {
    width: 6px; height: 6px; border-radius: 50%;
    background: var(--emerald);
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; box-shadow: 0 0 0 0 rgba(16,185,129,0.4); }
    50% { opacity: 0.7; box-shadow: 0 0 0 6px rgba(16,185,129,0); }
  }

  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
  }

  @keyframes countUp {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .animate-in {
    opacity: 0;
    animation: fadeInUp 0.6s ease forwards;
  }

  /* Hero Section */
  .hero {
    padding: 140px 0 80px;
    position: relative;
    overflow: hidden;
  }
  .hero::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background: radial-gradient(ellipse at 30% 50%, rgba(0,212,170,0.08) 0%, transparent 60%),
                radial-gradient(ellipse at 70% 30%, rgba(14,165,233,0.06) 0%, transparent 50%);
    z-index: 0;
  }
  .hero-content { position: relative; z-index: 1; }
  .hero-badge {
    display: inline-flex; align-items: center; gap: 8px;
    background: rgba(0,212,170,0.08);
    border: 1px solid rgba(0,212,170,0.2);
    padding: 6px 16px; border-radius: 20px;
    font-family: var(--font-mono); font-size: 11px;
    color: var(--teal); margin-bottom: 24px;
    letter-spacing: 0.05em; text-transform: uppercase;
  }
  .hero h1 {
    font-family: var(--font-mono);
    font-size: clamp(32px, 5vw, 56px);
    font-weight: 700;
    line-height: 1.15;
    margin-bottom: 20px;
    background: linear-gradient(135deg, var(--text) 0%, var(--teal) 50%, var(--cyan) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  .hero p {
    font-size: 17px; color: var(--text-dim);
    max-width: 600px; line-height: 1.7;
    margin-bottom: 32px;
  }
  .hero-stats {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px;
    margin-top: 48px;
  }
  .hero-stat {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
    transition: border-color 0.3s, transform 0.3s;
  }
  .hero-stat:hover {
    border-color: var(--border-hover);
    transform: translateY(-2px);
  }
  .hero-stat .value {
    font-family: var(--font-mono); font-size: 28px;
    font-weight: 700; color: var(--teal);
    display: block;
  }
  .hero-stat .label {
    font-size: 11px; color: var(--text-muted);
    text-transform: uppercase; letter-spacing: 0.08em;
    margin-top: 4px;
  }

  /* Section */
  section { padding: 80px 0; }
  .section-header {
    text-align: center; margin-bottom: 48px;
  }
  .section-header .tag {
    font-family: var(--font-mono); font-size: 11px;
    color: var(--teal); text-transform: uppercase;
    letter-spacing: 0.1em; margin-bottom: 12px;
  }
  .section-header h2 {
    font-family: var(--font-mono); font-size: 32px;
    font-weight: 700; color: var(--text);
    margin-bottom: 12px;
  }
  .section-header p {
    color: var(--text-dim); font-size: 15px;
    max-width: 600px; margin: 0 auto;
  }

  /* Architecture Diagram */
  .arch-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 20px;
    margin-top: 40px;
  }
  .arch-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 28px;
    transition: all 0.3s;
    cursor: default;
  }
  .arch-card:hover {
    border-color: var(--border-hover);
    box-shadow: 0 0 30px rgba(0,212,170,0.05);
    transform: translateY(-3px);
  }
  .arch-card .icon {
    width: 44px; height: 44px;
    background: rgba(0,212,170,0.08);
    border: 1px solid rgba(0,212,170,0.2);
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 20px; margin-bottom: 16px;
  }
  .arch-card h3 {
    font-family: var(--font-mono); font-size: 15px;
    font-weight: 600; color: var(--text);
    margin-bottom: 8px;
  }
  .arch-card p {
    font-size: 13px; color: var(--text-dim);
    line-height: 1.6;
  }
  .arch-card .tech-tag {
    display: inline-block;
    background: rgba(14,165,233,0.1);
    border: 1px solid rgba(14,165,233,0.2);
    color: var(--cyan);
    font-family: var(--font-mono); font-size: 10px;
    padding: 3px 8px; border-radius: 4px;
    margin-top: 12px; margin-right: 4px;
  }

  /* Flow Diagram */
  .flow-container {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 40px;
    margin-top: 40px;
    overflow-x: auto;
  }
  .flow-steps {
    display: flex; align-items: center; justify-content: center;
    gap: 0; min-width: 800px;
  }
  .flow-step {
    display: flex; flex-direction: column; align-items: center;
    padding: 20px 16px;
    min-width: 140px;
    text-align: center;
    position: relative;
  }
  .flow-step .step-icon {
    width: 56px; height: 56px;
    border-radius: 14px;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px; margin-bottom: 12px;
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .flow-step:hover .step-icon {
    transform: scale(1.1);
    box-shadow: 0 0 20px rgba(0,212,170,0.2);
  }
  .flow-step .step-icon.teal { background: rgba(0,212,170,0.12); border: 1px solid rgba(0,212,170,0.3); }
  .flow-step .step-icon.cyan { background: rgba(14,165,233,0.12); border: 1px solid rgba(14,165,233,0.3); }
  .flow-step .step-icon.emerald { background: rgba(16,185,129,0.12); border: 1px solid rgba(16,185,129,0.3); }
  .flow-step .step-icon.amber { background: rgba(245,158,11,0.12); border: 1px solid rgba(245,158,11,0.3); }
  .flow-step .step-name {
    font-family: var(--font-mono); font-size: 12px;
    font-weight: 600; color: var(--text);
    margin-bottom: 4px;
  }
  .flow-step .step-desc {
    font-size: 11px; color: var(--text-muted);
  }
  .flow-arrow {
    color: var(--teal-dim); font-size: 24px;
    flex-shrink: 0; margin: 0 4px;
    margin-bottom: 30px;
  }

  /* Features Grid */
  .features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
  }
  .feature-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 28px;
    display: flex; gap: 16px;
    transition: all 0.3s;
  }
  .feature-card:hover {
    border-color: var(--border-hover);
    transform: translateY(-2px);
  }
  .feature-card .f-icon {
    width: 40px; height: 40px;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 18px; flex-shrink: 0;
  }
  .feature-card .f-icon.teal { background: rgba(0,212,170,0.1); border: 1px solid rgba(0,212,170,0.2); }
  .feature-card .f-icon.cyan { background: rgba(14,165,233,0.1); border: 1px solid rgba(14,165,233,0.2); }
  .feature-card .f-icon.emerald { background: rgba(16,185,129,0.1); border: 1px solid rgba(16,185,129,0.2); }
  .feature-card .f-icon.amber { background: rgba(245,158,11,0.1); border: 1px solid rgba(245,158,11,0.2); }
  .feature-card h3 {
    font-family: var(--font-mono); font-size: 14px;
    font-weight: 600; color: var(--text);
    margin-bottom: 6px;
  }
  .feature-card p {
    font-size: 13px; color: var(--text-dim); line-height: 1.6;
  }

  /* Charts Section */
  .charts-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
    margin-top: 40px;
  }
  .chart-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
  }
  .chart-card h3 {
    font-family: var(--font-mono); font-size: 13px;
    font-weight: 600; color: var(--text);
    margin-bottom: 16px;
    display: flex; align-items: center; gap: 8px;
  }
  .chart-card h3 .dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: var(--teal);
  }
  .chart-card .chart-wrap {
    position: relative;
    width: 100%;
  }
  .chart-card .chart-wrap.line-chart { height: 250px; }
  .chart-card .chart-wrap.pie-chart { height: 250px; }
  .chart-card .chart-wrap.bar-chart { height: 180px; }

  /* API Endpoints */
  .api-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 24px;
  }
  .api-table th {
    text-align: left;
    font-family: var(--font-mono); font-size: 11px;
    color: var(--text-muted); text-transform: uppercase;
    letter-spacing: 0.08em;
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);
  }
  .api-table td {
    padding: 14px 16px;
    border-bottom: 1px solid rgba(0,212,170,0.06);
    font-size: 13px;
  }
  .api-table tr:hover td {
    background: rgba(0,212,170,0.03);
  }
  .method-badge {
    font-family: var(--font-mono); font-size: 10px;
    font-weight: 700; padding: 3px 8px;
    border-radius: 4px; display: inline-block;
    min-width: 50px; text-align: center;
  }
  .method-badge.get { background: rgba(16,185,129,0.15); color: var(--emerald); }
  .method-badge.post { background: rgba(14,165,233,0.15); color: var(--cyan); }
  .method-badge.put { background: rgba(245,158,11,0.15); color: var(--amber); }
  .method-badge.delete { background: rgba(239,68,68,0.15); color: var(--red); }
  .method-badge.patch { background: rgba(168,85,247,0.15); color: #a855f7; }
  .api-path {
    font-family: var(--font-mono); font-size: 12px;
    color: var(--teal);
  }

  /* Database Schema */
  .schema-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-top: 24px;
  }
  .schema-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 20px;
    transition: border-color 0.3s;
  }
  .schema-card:hover { border-color: var(--border-hover); }
  .schema-card h4 {
    font-family: var(--font-mono); font-size: 13px;
    font-weight: 600; color: var(--teal);
    margin-bottom: 10px;
    display: flex; align-items: center; gap: 6px;
  }
  .schema-card .field {
    font-family: var(--font-mono); font-size: 11px;
    color: var(--text-dim); padding: 3px 0;
    display: flex; justify-content: space-between;
  }
  .schema-card .field .type {
    color: var(--text-muted); font-size: 10px;
  }

  /* Interactive Tabs */
  .tabs-container {
    margin-top: 40px;
  }
  .tab-buttons {
    display: flex; gap: 4px;
    background: var(--bg-surface);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 4px;
    margin-bottom: 20px;
    width: fit-content;
  }
  .tab-btn {
    background: transparent;
    border: none;
    color: var(--text-dim);
    font-family: var(--font-mono);
    font-size: 12px;
    padding: 8px 20px;
    border-radius: 7px;
    cursor: pointer;
    transition: all 0.2s;
  }
  .tab-btn.active {
    background: rgba(0,212,170,0.12);
    color: var(--teal);
    border: 1px solid rgba(0,212,170,0.2);
  }
  .tab-btn:hover:not(.active) {
    color: var(--text);
    background: rgba(255,255,255,0.03);
  }
  .tab-content { display: none; }
  .tab-content.active { display: block; animation: fadeInUp 0.3s ease; }

  /* Footer */
  footer {
    border-top: 1px solid var(--border);
    padding: 40px 0;
    margin-top: 40px;
    text-align: center;
  }
  footer p {
    font-size: 13px; color: var(--text-muted);
    font-family: var(--font-mono);
  }
  footer .footer-links {
    display: flex; justify-content: center; gap: 24px;
    margin-top: 16px;
  }
  footer .footer-links a {
    color: var(--text-dim); text-decoration: none;
    font-size: 12px; transition: color 0.2s;
  }
  footer .footer-links a:hover { color: var(--teal); }

  /* Responsive */
  @media (max-width: 768px) {
    .hero-stats { grid-template-columns: repeat(2, 1fr); }
    .arch-grid { grid-template-columns: 1fr; }
    .features-grid { grid-template-columns: 1fr; }
    .charts-grid { grid-template-columns: 1fr; }
    .schema-grid { grid-template-columns: 1fr; }
    nav .nav-links { display: none; }
    .flow-steps { min-width: 600px; }
  }

  /* Scroll animations */
  .reveal { opacity: 0; transform: translateY(20px); transition: all 0.6s ease; }
  .reveal.visible { opacity: 1; transform: translateY(0); }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
  <div class="nav-inner">
    <div class="logo">
      <div class="shield">&#x1f6e1;</div>
      BPB System
    </div>
    <div class="nav-links">
      <a href="#architecture">Architecture</a>
      <a href="#flow">Message Flow</a>
      <a href="#features">Features</a>
      <a href="#analytics">Analytics</a>
      <a href="#api">API</a>
      <a href="#database">Database</a>
    </div>
    <div class="status-badge">
      <div class="dot"></div>
      System Online
    </div>
  </div>
</nav>

<!-- Hero -->
<section class="hero">
  <div class="container hero-content">
    <div class="hero-badge">&#x26a1; Whats Guard v1.0</div>
    <h1>Smart WhatsApp<br>Distribution Engine</h1>
    <p>
      Intelligent message distribution with multi-profile management,
      adaptive rate limiting, health monitoring, and block prevention.
      Connected to Zentra API for seamless WhatsApp delivery.
    </p>
    <div class="hero-stats">
      <div class="hero-stat animate-in" style="animation-delay: 0.1s">
        <span class="value" data-count="7">7</span>
        <span class="label">Dashboard Pages</span>
      </div>
      <div class="hero-stat animate-in" style="animation-delay: 0.2s">
        <span class="value" data-count="25">25+</span>
        <span class="label">API Endpoints</span>
      </div>
      <div class="hero-stat animate-in" style="animation-delay: 0.3s">
        <span class="value" data-count="12">12</span>
        <span class="label">DB Tables</span>
      </div>
      <div class="hero-stat animate-in" style="animation-delay: 0.4s">
        <span class="value" data-count="5">5</span>
        <span class="label">Distribution Modes</span>
      </div>
    </div>
  </div>
</section>

<!-- Architecture -->
<section id="architecture">
  <div class="container">
    <div class="section-header reveal">
      <div class="tag">System Architecture</div>
      <h2>Three-Tier Architecture</h2>
      <p>React frontend, FastAPI backend, and PostgreSQL database working in harmony</p>
    </div>
    <div class="arch-grid">
      <div class="arch-card reveal">
        <div class="icon">&#x1f5a5;</div>
        <h3>Frontend — React 19</h3>
        <p>Command Center dashboard with dark theme, real-time polling, interactive charts, and full CRUD operations for packages, profiles, and messages.</p>
        <span class="tech-tag">React 19</span>
        <span class="tech-tag">Tailwind 4</span>
        <span class="tech-tag">Recharts</span>
        <span class="tech-tag">Framer Motion</span>
      </div>
      <div class="arch-card reveal">
        <div class="icon">&#x2699;</div>
        <h3>Backend — FastAPI</h3>
        <p>High-performance async API with distribution engine, cooldown calculator, weight system, health monitoring, and Zentra API integration.</p>
        <span class="tech-tag">FastAPI</span>
        <span class="tech-tag">SQLAlchemy</span>
        <span class="tech-tag">asyncpg</span>
        <span class="tech-tag">Pydantic</span>
      </div>
      <div class="arch-card reveal">
        <div class="icon">&#x1f4be;</div>
        <h3>Database — PostgreSQL</h3>
        <p>12 normalized tables with UUID primary keys, proper indexing, cascade deletes, and optimized queries for real-time analytics.</p>
        <span class="tech-tag">PostgreSQL 14</span>
        <span class="tech-tag">UUID PKs</span>
        <span class="tech-tag">Indexes</span>
      </div>
    </div>
  </div>
</section>

<!-- Message Flow -->
<section id="flow">
  <div class="container">
    <div class="section-header reveal">
      <div class="tag">Message Pipeline</div>
      <h2>How Messages Flow</h2>
      <p>From user input to WhatsApp delivery — every step is monitored and optimized</p>
    </div>
    <div class="flow-container reveal">
      <div class="flow-steps">
        <div class="flow-step">
          <div class="step-icon teal">&#x1f4e8;</div>
          <div class="step-name">Receive</div>
          <div class="step-desc">API receives message request</div>
        </div>
        <div class="flow-arrow">&#x2192;</div>
        <div class="flow-step">
          <div class="step-icon cyan">&#x2696;</div>
          <div class="step-name">Distribute</div>
          <div class="step-desc">Weight-based profile selection</div>
        </div>
        <div class="flow-arrow">&#x2192;</div>
        <div class="flow-step">
          <div class="step-icon amber">&#x23f1;</div>
          <div class="step-name">Cooldown</div>
          <div class="step-desc">Smart delay calculation</div>
        </div>
        <div class="flow-arrow">&#x2192;</div>
        <div class="flow-step">
          <div class="step-icon teal">&#x1f4e4;</div>
          <div class="step-name">Send</div>
          <div class="step-desc">Zentra API delivery</div>
        </div>
        <div class="flow-arrow">&#x2192;</div>
        <div class="flow-step">
          <div class="step-icon emerald">&#x2705;</div>
          <div class="step-name">Track</div>
          <div class="step-desc">Log delivery status</div>
        </div>
        <div class="flow-arrow">&#x2192;</div>
        <div class="flow-step">
          <div class="step-icon cyan">&#x1f4ca;</div>
          <div class="step-name">Analyze</div>
          <div class="step-desc">Update health scores</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Features -->
<section id="features">
  <div class="container">
    <div class="section-header reveal">
      <div class="tag">Core Features</div>
      <h2>Built for Scale & Safety</h2>
      <p>Every feature designed to prevent blocks while maximizing delivery throughput</p>
    </div>
    <div class="features-grid">
      <div class="feature-card reveal">
        <div class="f-icon teal">&#x2696;</div>
        <div>
          <h3>Smart Distribution Engine</h3>
          <p>5 modes: Smart (AI-weighted), Round Robin, Least Used, Random, and Priority-based. Automatically selects the best profile for each message.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon cyan">&#x23f1;</div>
        <div>
          <h3>Adaptive Cooldown Calculator</h3>
          <p>Dynamic delays between messages based on risk score, time of day, message volume, and profile health. Rush hour and quiet mode multipliers.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon emerald">&#x1f49a;</div>
        <div>
          <h3>Profile Health Monitoring</h3>
          <p>Real-time health scores (0-100) based on success rates, failure patterns, and activity. Auto-pause on threshold breach.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon amber">&#x26a0;</div>
        <div>
          <h3>Block Risk Detection</h3>
          <p>Multi-factor risk scoring: sudden volume spikes, low success rates, rapid failures. Automatic alerts and profile freezing.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon teal">&#x1f4e6;</div>
        <div>
          <h3>Package Management</h3>
          <p>Group profiles into packages with independent rate limits, distribution modes, and active hours. Full CRUD with cascade operations.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon cyan">&#x1f4ca;</div>
        <div>
          <h3>Real-Time Analytics</h3>
          <p>Daily volume charts, delivery status breakdown, hourly distribution heatmaps, per-profile performance tracking, and success rate trends.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon emerald">&#x1f504;</div>
        <div>
          <h3>Dual Message Modes</h3>
          <p>Open Chat: new conversations with smart distribution. Reply Chat: bypasses all rate limits for instant delivery to existing conversations.</p>
        </div>
      </div>
      <div class="feature-card reveal">
        <div class="f-icon amber">&#x1f514;</div>
        <div>
          <h3>Alert System</h3>
          <p>Severity-based alerts (info, warning, critical) for health drops, rate limit breaches, delivery failures, and system anomalies.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Analytics -->
<section id="analytics">
  <div class="container">
    <div class="section-header reveal">
      <div class="tag">Performance Metrics</div>
      <h2>Interactive Analytics</h2>
      <p>Visual insights into message distribution, delivery rates, and system performance</p>
    </div>
    <div class="charts-grid reveal">
      <div class="chart-card">
        <h3><span class="dot"></span> Daily Message Volume</h3>
        <div class="chart-wrap line-chart"><canvas id="volumeChart"></canvas></div>
      </div>
      <div class="chart-card">
        <h3><span class="dot" style="background:var(--cyan)"></span> Delivery Status</h3>
        <div class="chart-wrap pie-chart"><canvas id="statusChart"></canvas></div>
      </div>
    </div>
    <div class="charts-grid reveal" style="margin-top: 20px;">
      <div class="chart-card" style="grid-column: 1 / -1;">
        <h3><span class="dot" style="background:var(--emerald)"></span> Hourly Distribution Pattern</h3>
        <div class="chart-wrap bar-chart"><canvas id="hourlyChart"></canvas></div>
      </div>
    </div>
  </div>
</section>

<!-- API Endpoints -->
<section id="api">
  <div class="container">
    <div class="section-header reveal">
      <div class="tag">REST API</div>
      <h2>API Endpoints</h2>
      <p>Complete RESTful API with 25+ endpoints for full system control</p>
    </div>

    <div class="tabs-container reveal">
      <div class="tab-buttons">
        <button class="tab-btn active" data-tab="packages-tab">Packages</button>
        <button class="tab-btn" data-tab="profiles-tab">Profiles</button>
        <button class="tab-btn" data-tab="messages-tab">Messages</button>
        <button class="tab-btn" data-tab="system-tab">System</button>
      </div>

      <div id="packages-tab" class="tab-content active">
        <div class="chart-card">
          <table class="api-table">
            <thead><tr><th>Method</th><th>Endpoint</th><th>Description</th></tr></thead>
            <tbody>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages</td><td style="color:var(--text-dim)">List all packages with summary stats</td></tr>
              <tr><td><span class="method-badge post">POST</span></td><td class="api-path">/api/v1/packages</td><td style="color:var(--text-dim)">Create a new package with rate limits</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}</td><td style="color:var(--text-dim)">Get package details with profiles</td></tr>
              <tr><td><span class="method-badge put">PUT</span></td><td class="api-path">/api/v1/packages/{id}</td><td style="color:var(--text-dim)">Update package configuration</td></tr>
              <tr><td><span class="method-badge delete">DELETE</span></td><td class="api-path">/api/v1/packages/{id}</td><td style="color:var(--text-dim)">Delete package and all related data</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/stats</td><td style="color:var(--text-dim)">Get real-time package statistics</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="profiles-tab" class="tab-content">
        <div class="chart-card">
          <table class="api-table">
            <thead><tr><th>Method</th><th>Endpoint</th><th>Description</th></tr></thead>
            <tbody>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/profiles</td><td style="color:var(--text-dim)">List profiles in a package</td></tr>
              <tr><td><span class="method-badge post">POST</span></td><td class="api-path">/api/v1/packages/{id}/profiles</td><td style="color:var(--text-dim)">Add a new WhatsApp profile</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/profiles/{pid}</td><td style="color:var(--text-dim)">Get profile details and stats</td></tr>
              <tr><td><span class="method-badge put">PUT</span></td><td class="api-path">/api/v1/packages/{id}/profiles/{pid}</td><td style="color:var(--text-dim)">Update profile settings</td></tr>
              <tr><td><span class="method-badge patch">PATCH</span></td><td class="api-path">/api/v1/packages/{id}/profiles/{pid}/status</td><td style="color:var(--text-dim)">Toggle profile active/paused/frozen</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/profiles/{pid}/health</td><td style="color:var(--text-dim)">Get health and risk assessment</td></tr>
              <tr><td><span class="method-badge delete">DELETE</span></td><td class="api-path">/api/v1/packages/{id}/profiles/{pid}</td><td style="color:var(--text-dim)">Remove profile from package</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="messages-tab" class="tab-content">
        <div class="chart-card">
          <table class="api-table">
            <thead><tr><th>Method</th><th>Endpoint</th><th>Description</th></tr></thead>
            <tbody>
              <tr><td><span class="method-badge post">POST</span></td><td class="api-path">/api/v1/packages/{id}/messages/open</td><td style="color:var(--text-dim)">Send new conversation (distributed)</td></tr>
              <tr><td><span class="method-badge post">POST</span></td><td class="api-path">/api/v1/packages/{id}/messages/reply</td><td style="color:var(--text-dim)">Reply to existing conversation</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/messages</td><td style="color:var(--text-dim)">List messages with filters</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/messages/{mid}</td><td style="color:var(--text-dim)">Get message with delivery logs</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/queue</td><td style="color:var(--text-dim)">Get queue status and cooldown info</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/packages/{id}/analytics</td><td style="color:var(--text-dim)">Get analytics for time period</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div id="system-tab" class="tab-content">
        <div class="chart-card">
          <table class="api-table">
            <thead><tr><th>Method</th><th>Endpoint</th><th>Description</th></tr></thead>
            <tbody>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/health</td><td style="color:var(--text-dim)">System health check</td></tr>
              <tr><td><span class="method-badge get">GET</span></td><td class="api-path">/api/v1/alerts</td><td style="color:var(--text-dim)">List alerts (filterable)</td></tr>
              <tr><td><span class="method-badge patch">PATCH</span></td><td class="api-path">/api/v1/alerts/{id}/read</td><td style="color:var(--text-dim)">Mark alert as read</td></tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Database Schema -->
<section id="database">
  <div class="container">
    <div class="section-header reveal">
      <div class="tag">Data Layer</div>
      <h2>Database Schema</h2>
      <p>12 PostgreSQL tables with proper relationships, indexes, and cascade operations</p>
    </div>
    <div class="schema-grid reveal">
      <div class="schema-card">
        <h4>&#x1f4e6; packages</h4>
        <div class="field"><span>id</span><span class="type">UUID PK</span></div>
        <div class="field"><span>name</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>distribution_mode</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>max_messages_per_hour</span><span class="type">INT</span></div>
        <div class="field"><span>max_messages_per_day</span><span class="type">INT</span></div>
        <div class="field"><span>active_hours_start/end</span><span class="type">TIME</span></div>
        <div class="field"><span>auto_pause_on_failures</span><span class="type">BOOL</span></div>
      </div>
      <div class="schema-card">
        <h4>&#x1f464; profiles</h4>
        <div class="field"><span>id</span><span class="type">UUID PK</span></div>
        <div class="field"><span>package_id</span><span class="type">UUID FK</span></div>
        <div class="field"><span>phone_number</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>weight_score</span><span class="type">FLOAT</span></div>
        <div class="field"><span>health_score</span><span class="type">INT</span></div>
        <div class="field"><span>risk_score</span><span class="type">INT</span></div>
        <div class="field"><span>messages_sent_today</span><span class="type">INT</span></div>
      </div>
      <div class="schema-card">
        <h4>&#x1f4e8; messages</h4>
        <div class="field"><span>id</span><span class="type">UUID PK</span></div>
        <div class="field"><span>package_id</span><span class="type">UUID FK</span></div>
        <div class="field"><span>message_mode</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>content</span><span class="type">TEXT</span></div>
        <div class="field"><span>status</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>total_recipients</span><span class="type">INT</span></div>
        <div class="field"><span>distribution_result</span><span class="type">JSONB</span></div>
      </div>
      <div class="schema-card">
        <h4>&#x1f4cb; delivery_logs</h4>
        <div class="field"><span>id</span><span class="type">UUID PK</span></div>
        <div class="field"><span>message_id</span><span class="type">UUID FK</span></div>
        <div class="field"><span>profile_id</span><span class="type">UUID FK</span></div>
        <div class="field"><span>recipient</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>status</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>response_time_ms</span><span class="type">INT</span></div>
        <div class="field"><span>error_message</span><span class="type">TEXT</span></div>
      </div>
      <div class="schema-card">
        <h4>&#x1f514; alerts</h4>
        <div class="field"><span>id</span><span class="type">UUID PK</span></div>
        <div class="field"><span>alert_type</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>severity</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>title</span><span class="type">VARCHAR</span></div>
        <div class="field"><span>message</span><span class="type">TEXT</span></div>
        <div class="field"><span>is_read</span><span class="type">BOOL</span></div>
        <div class="field"><span>is_resolved</span><span class="type">BOOL</span></div>
      </div>
      <div class="schema-card">
        <h4>&#x1f4c8; profile_daily_stats</h4>
        <div class="field"><span>id</span><span class="type">UUID PK</span></div>
        <div class="field"><span>profile_id</span><span class="type">UUID FK</span></div>
        <div class="field"><span>date</span><span class="type">DATE</span></div>
        <div class="field"><span>messages_sent</span><span class="type">INT</span></div>
        <div class="field"><span>messages_failed</span><span class="type">INT</span></div>
        <div class="field"><span>avg_response_time</span><span class="type">FLOAT</span></div>
        <div class="field"><span>health_score_end</span><span class="type">INT</span></div>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <p>Whats Guard &mdash; Built with FastAPI + React + PostgreSQL</p>
    <div class="footer-links">
      <a href="#architecture">Architecture</a>
      <a href="#flow">Message Flow</a>
      <a href="#features">Features</a>
      <a href="#analytics">Analytics</a>
      <a href="#api">API Reference</a>
      <a href="#database">Database</a>
    </div>
  </div>
</footer>

<script>
// Tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.tab).classList.add('active');
  });
});

// Scroll reveal
const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
    }
  });
}, { threshold: 0.1 });

document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

// Charts
const chartColors = {
  teal: '#00d4aa',
  tealBg: 'rgba(0,212,170,0.15)',
  cyan: '#0ea5e9',
  cyanBg: 'rgba(14,165,233,0.15)',
  emerald: '#10b981',
  amber: '#f59e0b',
  red: '#ef4444',
  grid: 'rgba(255,255,255,0.05)',
  text: '#64748b',
};

// Daily Volume Chart
const days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
new Chart(document.getElementById('volumeChart'), {
  type: 'line',
  data: {
    labels: days,
    datasets: [
      {
        label: 'Sent',
        data: [45, 62, 78, 55, 89, 42, 67],
        borderColor: chartColors.teal,
        backgroundColor: chartColors.tealBg,
        fill: true,
        tension: 0.4,
        borderWidth: 2,
        pointRadius: 4,
        pointBackgroundColor: chartColors.teal,
      },
      {
        label: 'Delivered',
        data: [42, 58, 74, 52, 85, 40, 63],
        borderColor: chartColors.cyan,
        backgroundColor: chartColors.cyanBg,
        fill: true,
        tension: 0.4,
        borderWidth: 2,
        pointRadius: 4,
        pointBackgroundColor: chartColors.cyan,
      }
    ]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { labels: { color: chartColors.text, font: { family: "'JetBrains Mono'" }, boxWidth: 12 } }
    },
    scales: {
      x: { grid: { color: chartColors.grid }, ticks: { color: chartColors.text, font: { family: "'JetBrains Mono'", size: 10 } } },
      y: { grid: { color: chartColors.grid }, ticks: { color: chartColors.text, font: { family: "'JetBrains Mono'", size: 10 } } }
    }
  }
});

// Status Pie Chart
new Chart(document.getElementById('statusChart'), {
  type: 'doughnut',
  data: {
    labels: ['Delivered', 'Sent', 'Queued', 'Failed'],
    datasets: [{
      data: [354, 42, 18, 8],
      backgroundColor: [chartColors.teal, chartColors.cyan, chartColors.amber, chartColors.red],
      borderWidth: 0,
      hoverOffset: 8,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    cutout: '65%',
    plugins: {
      legend: {
        position: 'bottom',
        labels: { color: chartColors.text, font: { family: "'JetBrains Mono'", size: 10 }, padding: 16, boxWidth: 10 }
      }
    }
  }
});

// Hourly Distribution Chart
const hours = Array.from({length: 24}, (_, i) => `${i}:00`);
const hourlyData = [2, 1, 0, 0, 3, 8, 15, 22, 28, 35, 42, 38, 45, 40, 36, 32, 28, 25, 20, 15, 10, 8, 5, 3];
new Chart(document.getElementById('hourlyChart'), {
  type: 'bar',
  data: {
    labels: hours,
    datasets: [{
      label: 'Messages',
      data: hourlyData,
      backgroundColor: hourlyData.map(v => v > 30 ? chartColors.teal : v > 15 ? 'rgba(0,212,170,0.6)' : 'rgba(0,212,170,0.3)'),
      borderRadius: 4,
      barPercentage: 0.7,
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      legend: { display: false },
      tooltip: {
        callbacks: {
          title: (items) => `Hour: ${items[0].label}`,
          label: (item) => `${item.raw} messages`
        }
      }
    },
    scales: {
      x: { grid: { display: false }, ticks: { color: chartColors.text, font: { family: "'JetBrains Mono'", size: 9 }, maxRotation: 0 } },
      y: { grid: { color: chartColors.grid }, ticks: { color: chartColors.text, font: { family: "'JetBrains Mono'", size: 10 } } }
    }
  }
});
</script>

</body>
</html>
